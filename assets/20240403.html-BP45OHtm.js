import{_ as e,c as o,a as s,d as a,e as t,b as l,o as c,r as i}from"./app-CDQkOAXo.js";const r="/assets/key_step-ClawauMI.png",u={},k={href:"https://api.tianditu.gov.cn/api.html",target:"_blank",rel:"noopener noreferrer"},d={href:"https://uums.tianditu.gov.cn/register",target:"_blank",rel:"noopener noreferrer"};function v(m,n){const p=i("ExternalLinkIcon");return c(),o("div",null,[n[5]||(n[5]=s("h1",{id:"在vue项目中使用天地图-一",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#在vue项目中使用天地图-一"},[s("span",null,"在Vue项目中使用天地图（一）")])],-1)),n[6]||(n[6]=s("h2",{id:"前言",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#前言"},[s("span",null,"前言")])],-1)),s("p",null,[n[1]||(n[1]=a("本片文章算是自己之前做的一个智慧农业项目的总结，采用Vue2.0+H5开发，天地图官方文档：")),s("a",k,[n[0]||(n[0]=a("天地图官方文档")),t(p)]),n[2]||(n[2]=a(", 主要实现的功能是包括地块的管理功能，使用天地图完成地图展示、地图交互、地图标注、轨迹展示、坐标点位编辑等。"))]),s("ol",null,[s("li",null,[s("a",d,[n[3]||(n[3]=a("注册")),t(p)]),n[4]||(n[4]=a(",申请为开发者并申请天地图key。"))])]),n[7]||(n[7]=l('<p><img src="'+r+`" alt="申请步骤"></p><ol start="2"><li>在index.html中引入天地图官方的js文件</li></ol><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html" data-title="html"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://api.tianditu.gov.cn/api?v=4.0&amp;tk=您的密钥<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="3"><li>在页面中使用（vue单文件页面）</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;map-area&quot;</span><span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;map-container&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;map-container&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span></span>
<span class="line"></span>
<span class="line"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">polygon_layers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">map_layer</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">marker_layer</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> </span>
<span class="line">      <span class="token literal-property property">number_overlays</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 初始化卫星地图</span></span>
<span class="line">    <span class="token function">initMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">const</span> zoom <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">const</span> center <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>T<span class="token punctuation">.</span>LngLat</span><span class="token punctuation">(</span><span class="token number">116.39131</span><span class="token punctuation">,</span> <span class="token number">39.90705</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>map_layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>T<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&quot;map-container&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>map_layer<span class="token punctuation">.</span><span class="token function">centerAndZoom</span><span class="token punctuation">(</span>center<span class="token punctuation">,</span> zoom<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>map_layer<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token constant">TMAP_HYBRID_MAP</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>map_layer<span class="token punctuation">.</span><span class="token function">disableDoubleClickZoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span></span>
<span class="line"><span class="token punctuation">.</span>map<span class="token operator">-</span>area <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">width</span><span class="token operator">:</span> 100vw<span class="token punctuation">;</span></span>
<span class="line">  <span class="token literal-property property">height</span><span class="token operator">:</span> 100vh<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">.</span>map<span class="token operator">-</span>container <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5))])}const g=e(u,[["render",v],["__file","20240403.html.vue"]]),y=JSON.parse('{"path":"/blogs/Frontend/20240403.html","title":"在Vue项目中使用天地图（一）","lang":"en-US","frontmatter":{"title":"在Vue项目中使用天地图（一）","date":"2023-04-03T00:00:00.000Z","tags":["Vue","H5开发","天地图"],"categories":["Frontend"]},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[]}],"git":{"createdTime":1736231046000,"updatedTime":1736231046000,"contributors":[{"name":"wanggang","email":"wanggang@shouyinongye.com","commits":1}]},"filePathRelative":"blogs/Frontend/20240403.md"}');export{g as comp,y as data};
